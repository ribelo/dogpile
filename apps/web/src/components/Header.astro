---
import { t, type Language } from '../i18n'
import LanguageSwitcher from './LanguageSwitcher'

const lang = (Astro.currentLocale as Language) || 'pl'
---

<header id="global-header" class="sticky top-0 z-50 w-full bg-sys-paper-base/80 backdrop-blur-md border-b border-sys-paper-shadow py-4">
  <div class="max-w-6xl mx-auto px-4 md:px-6 flex items-center justify-between">
    <a id="nav-logo" href="/" class="flex items-center gap-2 no-underline group">
      <div class="w-10 h-10 bg-[#4a4238] rounded-xl flex items-center justify-center rotate-3 group-hover:rotate-0 transition-transform shadow-md shadow-[#4a4238]/20]">
        <img src="/paw-icon.svg" alt="Dogpile logo" class="w-6 h-6" />
      </div>
      <span class="font-title text-2xl font-black text-sys-ink-primary tracking-tight">dogpile</span>
    </a>

    <nav class="hidden md:flex items-center gap-8">
      <a id="nav-sniff-around" href="/#dogs" class="text-sm font-bold uppercase tracking-wider text-sys-ink-primary/60 hover:text-sys-ink-primary transition-colors no-underline">
        {t('nav.sniffAround', lang)}
      </a>
      <a id="nav-about" href="/about" class="text-sm font-bold uppercase tracking-wider text-sys-ink-primary/60 hover:text-sys-ink-primary transition-colors no-underline">
        {t('nav.about', lang)}
      </a>
      <a id="nav-my-pile" href="/favorites" class="flex items-center gap-2 text-sm font-bold uppercase tracking-wider text-sys-heart-core hover:opacity-80 transition-opacity no-underline">
        <img src="/paw-icon.svg" alt="" class="w-4 h-4" />
        {t('nav.myPile', lang)}
      </a>
      <div class="w-px h-4 bg-sys-paper-shadow mx-2"></div>
      <LanguageSwitcher client:load id="header-language-switcher" />
    </nav>

    <!-- Mobile Menu Button (simplified for now) -->
    <div class="flex md:hidden items-center gap-4">
      <a id="nav-mobile-my-pile" href="/favorites" class="text-sys-heart-core" aria-label={t('nav.myPile', lang)}>
        <img src="/paw-icon.svg" alt="" class="w-6 h-6" />
      </a>
      <LanguageSwitcher client:load id="mobile-language-switcher" />
    </div>
  </div>
</header>
