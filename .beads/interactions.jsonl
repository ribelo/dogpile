{"id":"dogpile-25a","title":"Implement semantic search in API","description":"Add semantic search endpoint to API worker.\n\nFlow:\n1. User query -\u003e OpenRouter embed -\u003e vector\n2. Vectorize similarity search -\u003e dog IDs\n3. D1 fetch dog records by IDs\n4. Apply hard filters (city, size, etc)\n5. Return results\n\nEndpoint: GET /search?q=friendly+family+dog\u0026city=warszawa","status":"open","priority":2,"issue_type":"feature","created_at":"2025-12-28T20:33:56.882888614+01:00","updated_at":"2025-12-28T20:33:56.882888614+01:00","dependencies":[{"issue_id":"dogpile-25a","depends_on_id":"dogpile-4ds","type":"blocks","created_at":"2025-12-28T20:34:03.494903607+01:00","created_by":"daemon"}]}
{"id":"dogpile-2o2","title":"Build first real shelter adapter","description":"Create the first production shelter adapter as a template for others.\n\nPick a shelter with:\n- Stable URLs or external IDs\n- Reasonable HTML structure\n- Good variety of dog data\n\nAdapter must:\n- Compute fingerprint from stable source data (URL or ID)\n- Extract rawDescription for AI processing\n- Return RawDogData with all available fields\n\nThis will serve as the reference implementation for other adapters.","status":"open","priority":1,"issue_type":"feature","created_at":"2025-12-28T20:32:35.255007444+01:00","updated_at":"2025-12-28T20:32:35.255007444+01:00"}
{"id":"dogpile-3ul","title":"Implement PhotoStore for R2","description":"Implement PhotoStore interface for dual R2 bucket storage.\n\nBuckets:\n- dogpile-photos-original: scraped shelter photos\n- dogpile-photos-generated: AI-generated images\n\nKey format: {dog_id}/{index}.jpg\n\nInterface in packages/core/src/services/image-store.ts","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-28T20:33:23.319091592+01:00","updated_at":"2025-12-28T20:33:23.319091592+01:00"}
{"id":"dogpile-47n","title":"Generate D1 migrations","description":"Run drizzle-kit generate to create SQL migrations from schema.\n\nThen apply to D1:\n- Local: wrangler d1 execute dogpile-db --local --file migrations/0001_*.sql\n- Remote: wrangler d1 execute dogpile-db --remote --file migrations/0001_*.sql","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-28T20:33:41.101118975+01:00","updated_at":"2025-12-28T20:33:41.101118975+01:00"}
{"id":"dogpile-4ds","title":"Implement EmbeddingService with OpenRouter","description":"Implement EmbeddingService interface using OpenRouter embeddings API.\n\nUse gemini-embedding-001 model for Polish language support.\n\nInterface in packages/core/src/services/embedding.ts:\n- embed(text) -\u003e vector\n- embedBatch(texts) -\u003e vectors\n\nAdd retry logic for API failures.","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-28T20:33:15.162389594+01:00","updated_at":"2025-12-28T20:33:15.162389594+01:00"}
{"id":"dogpile-4jr","title":"Implement AIExtractionService with OpenRouter/Gemini","description":"Implement the AIExtractionService interface using OpenRouter API with gemini-embedding-001 model.\n\nTwo extraction passes:\n1. Text extraction: name, sex, age, breed, size, weight, personality, health, compatibility, location\n2. Photo extraction: breed confirmation, fur, color, ears, tail, size/age refinement\n\nMust handle nullable fields gracefully - shelters have inconsistent data.\n\nOutput should match TextExtractionResult and PhotoExtractionResult interfaces in packages/core/src/services/ai-extraction.ts","status":"open","priority":1,"issue_type":"feature","created_at":"2025-12-28T20:32:15.61846583+01:00","updated_at":"2025-12-28T20:32:25.367813002+01:00"}
{"id":"dogpile-hjs","title":"Wire AI extraction into scraper-processor pipeline","description":"Integrate AIExtractionService into scraper-processor worker.\n\nFlow:\n1. Scraper returns RawDogData with fingerprint + rawDescription\n2. If new dog (fingerprint not in DB):\n   - Run text extraction on rawDescription\n   - Download photos to R2\n   - Run photo extraction on photos\n   - Merge results and store in D1\n   - Queue for embedding generation\n3. If existing dog (fingerprint match):\n   - Just update lastSeenAt\n\nRequires dogpile-4jr (AIExtractionService) and dogpile-2o2 (shelter adapter) to be complete.","status":"open","priority":1,"issue_type":"task","created_at":"2025-12-28T20:32:45.042624916+01:00","updated_at":"2025-12-28T20:32:45.042624916+01:00","dependencies":[{"issue_id":"dogpile-hjs","depends_on_id":"dogpile-4jr","type":"blocks","created_at":"2025-12-28T20:32:59.76429578+01:00","created_by":"daemon"},{"issue_id":"dogpile-hjs","depends_on_id":"dogpile-2o2","type":"blocks","created_at":"2025-12-28T20:33:05.98802271+01:00","created_by":"daemon"}]}
{"id":"dogpile-qv7","title":"Create Cloudflare resources and configure wrangler","description":"Create all required Cloudflare resources:\n\n- D1 database: dogpile-db\n- KV namespace for cache\n- R2 bucket: dogpile-photos-original\n- R2 bucket: dogpile-photos-generated\n- Vectorize index: dogpile-dogs\n- Queues: dogpile-scrape-jobs, dogpile-reindex-jobs\n\nUpdate all wrangler.toml files with actual IDs.\nRun initial D1 migrations.","status":"open","priority":2,"issue_type":"chore","created_at":"2025-12-28T20:33:32.59430306+01:00","updated_at":"2025-12-28T20:33:32.59430306+01:00","dependencies":[{"issue_id":"dogpile-qv7","depends_on_id":"dogpile-47n","type":"blocks","created_at":"2025-12-28T20:33:47.851928654+01:00","created_by":"daemon"}]}
{"id":"dogpile-s01","title":"Build dog listing and detail pages","description":"Complete the web frontend:\n\n1. Dog listing page with filters:\n   - City/distance sorting\n   - Size, breed, age filters\n   - Urgent flag filter\n   - Infinite scroll or pagination\n\n2. Dog detail page:\n   - Full photo gallery\n   - All extracted data displayed\n   - Breed confidence bars\n   - Compatibility badges\n   - Link to shelter/source","status":"open","priority":2,"issue_type":"feature","created_at":"2025-12-28T20:34:12.203833526+01:00","updated_at":"2025-12-28T20:34:12.203833526+01:00"}
